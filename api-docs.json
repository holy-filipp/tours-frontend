{
    "openapi": "3.0.0",
    "info": {
        "title": "Экскурсии по Удмуртской Республике",
        "description": "API документация для работы с сервисом экскурсий по УР",
        "version": "0.0.1"
    },
    "paths": {
        "/api/sanctum/csrf-cookie": {
            "get": {
                "tags": [
                    "Авторизация"
                ],
                "summary": "Получить CSRF токен",
                "description": "Генерирует и возвращает в XSRF-TOKEN cookie новый CSRF токен",
                "operationId": "getCsrfCookie",
                "responses": {
                    "204": {
                        "description": "Успешное создание",
                        "headers": {
                            "XSRF-TOKEN": {
                                "description": "CSRF токен",
                                "schema": {
                                    "type": "string",
                                    "example": "abcdefgiekqwe32"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/poi/create": {
            "post": {
                "tags": [
                    "Достопримечательности"
                ],
                "summary": "Создать новую достопримечательность",
                "description": "Создаёт и возвращает новую достопримечательность в случае успеха",
                "operationId": "b3a9db44be281c210db1dc5686205879",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "description",
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Описание достопримечательности"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Успешное создание",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "POI created"
                                        },
                                        "data": {
                                            "properties": {
                                                "description": {
                                                    "type": "string",
                                                    "example": "Описание достопримечательности"
                                                },
                                                "file_name": {
                                                    "type": "string",
                                                    "example": "pois/wydMNczrMWlmuNRPbB2jmO5PBzOEsPkm7mfchVng.png"
                                                },
                                                "user_id": {
                                                    "type": "number",
                                                    "example": 1
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "foo@bar.com"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                },
                                                "id": {
                                                    "type": "number",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Ошибка валидации данных",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "false"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation error"
                                        },
                                        "errors": {
                                            "properties": {
                                                "description": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The description field is required."
                                                    ]
                                                },
                                                "file": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The file field is required."
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Пользователь не авторизирован",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/poi/list": {
            "get": {
                "tags": [
                    "Достопримечательности"
                ],
                "summary": "Получить список достопримечательностей",
                "description": "Возвращает список всех достопримечательностей",
                "operationId": "7379957e55709238e32fe7d749b26e30",
                "responses": {
                    "200": {
                        "description": "Успешный вывод достопримечательностей",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "POIs retrieved"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Описание достопримечательности"
                                                    },
                                                    "file_name": {
                                                        "type": "string",
                                                        "example": "pois/wydMNczrMWlmuNRPbB2jmO5PBzOEsPkm7mfchVng.png"
                                                    },
                                                    "user_id": {
                                                        "type": "number",
                                                        "example": 1
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "example": "foo@bar.com"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "example": "2000-01-01T00:00:00.000000Z"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "example": "2000-01-01T00:00:00.000000Z"
                                                    },
                                                    "id": {
                                                        "type": "number",
                                                        "example": 1
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Пользователь не авторизирован",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/content/udmurtia": {
            "get": {
                "tags": [
                    "Контент"
                ],
                "summary": "Контент по Удмуртии",
                "description": "Возвращает статический контент в формате markdown для страницы",
                "operationId": "910572190b5a8e97c01de37e7f49653d",
                "responses": {
                    "200": {
                        "description": "Успешный вывод контента",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Content fetched"
                                        },
                                        "data": {
                                            "properties": {
                                                "name": {
                                                    "type": "string",
                                                    "example": "about-udmurtia"
                                                },
                                                "content": {
                                                    "type": "string",
                                                    "example": "Lorem ipsum"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                },
                                                "id": {
                                                    "type": "number",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Пользователь не авторизирован",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/trip/image": {
            "post": {
                "tags": [
                    "Точки"
                ],
                "summary": "Загрузить картинку для точки",
                "description": "Загружает картинку для точки и возвращает её путь в случае успеха",
                "operationId": "5ffba1e96f748cd3857a2b9482cef3eb",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "file"
                                ],
                                "properties": {
                                    "file": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Успешная загрузка",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "File uploaded"
                                        },
                                        "data": {
                                            "properties": {
                                                "file_name": {
                                                    "type": "string",
                                                    "example": "pois/wydMNczrMWlmuNRPbB2jmO5PBzOEsPkm7mfchVng.png"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Ошибка валидации данных",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "false"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation error"
                                        },
                                        "errors": {
                                            "properties": {
                                                "file": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The file field is required."
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Роли пользователя не достаточно для выполнения операции",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "The role does not match the requirements"
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": []
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Пользователь не авторизирован",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/trip/complex": {
            "post": {
                "tags": [
                    "Экскурсии"
                ],
                "summary": "Создать экскурсию, маршрут и точки",
                "description": "Создаёт и возвращает новую экскурсию, маршрут и привязанные к нему точки. Всё в одном запросе",
                "operationId": "1d872d3e3a28c31d4c30c076f70e11d7",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "allOf": [
                                    {
                                        "required": [
                                            "starts_at",
                                            "capacity",
                                            "min_age",
                                            "price",
                                            "start_location",
                                            "duration"
                                        ],
                                        "properties": {
                                            "starts_at": {
                                                "type": "string",
                                                "example": "2000-01-01 08:00"
                                            },
                                            "capacity": {
                                                "type": "number",
                                                "example": 5
                                            },
                                            "min_age": {
                                                "type": "number",
                                                "example": 16
                                            },
                                            "price": {
                                                "type": "number",
                                                "example": 9999
                                            },
                                            "start_location": {
                                                "type": "string",
                                                "example": "Ижевск"
                                            },
                                            "duration": {
                                                "type": "number",
                                                "example": 10
                                            },
                                            "points": {
                                                "type": "array",
                                                "items": {
                                                    "required": [
                                                        "file_name",
                                                        "description",
                                                        "day_of_the_route",
                                                        "name"
                                                    ],
                                                    "properties": {
                                                        "file_name": {
                                                            "type": "string",
                                                            "example": "points/pCobXrHQoHbiI2JDiWMJj8zVKLEu26qFIMogpwcD.jpg"
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "Описание точки"
                                                        },
                                                        "day_of_the_route": {
                                                            "type": "number",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Название точки"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            }
                                        },
                                        "type": "object"
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Успешное создание",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Route, points and trip created"
                                        },
                                        "data": {
                                            "properties": {
                                                "route": {
                                                    "properties": {
                                                        "start_location": {
                                                            "type": "string",
                                                            "example": "Ижевск"
                                                        },
                                                        "duration": {
                                                            "type": "number",
                                                            "example": 10
                                                        },
                                                        "updated_at": {
                                                            "type": "string",
                                                            "example": "2000-01-01T00:00:00.000000Z"
                                                        },
                                                        "created_at": {
                                                            "type": "string",
                                                            "example": "2000-01-01T00:00:00.000000Z"
                                                        },
                                                        "id": {
                                                            "type": "number",
                                                            "example": 1
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "trip": {
                                                    "properties": {
                                                        "starts_at": {
                                                            "type": "string",
                                                            "example": "2000-01-01 08:00"
                                                        },
                                                        "capacity": {
                                                            "type": "number",
                                                            "example": 5
                                                        },
                                                        "min_age": {
                                                            "type": "number",
                                                            "example": 16
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "example": 9999
                                                        },
                                                        "route_id": {
                                                            "type": "number",
                                                            "example": 1
                                                        },
                                                        "updated_at": {
                                                            "type": "string",
                                                            "example": "2000-01-01T00:00:00.000000Z"
                                                        },
                                                        "created_at": {
                                                            "type": "string",
                                                            "example": "2000-01-01T00:00:00.000000Z"
                                                        },
                                                        "id": {
                                                            "type": "number",
                                                            "example": 1
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "points": {
                                                    "type": "array",
                                                    "items": {
                                                        "required": [
                                                            "file_name",
                                                            "description",
                                                            "day_of_the_route",
                                                            "name"
                                                        ],
                                                        "properties": {
                                                            "file_name": {
                                                                "type": "string",
                                                                "example": "points/pCobXrHQoHbiI2JDiWMJj8zVKLEu26qFIMogpwcD.jpg"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "Описание точки"
                                                            },
                                                            "day_of_the_route": {
                                                                "type": "number",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Название точки"
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Ошибка валидации данных",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "false"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation error"
                                        },
                                        "errors": {
                                            "properties": {
                                                "starts_at": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The starts at field is required."
                                                    ]
                                                },
                                                "capacity": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The capacity field is required."
                                                    ]
                                                },
                                                "min_age": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The min age field is required."
                                                    ]
                                                },
                                                "price": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The price field is required."
                                                    ]
                                                },
                                                "start_location": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The start location field is required."
                                                    ]
                                                },
                                                "duration": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The duration field is required."
                                                    ]
                                                },
                                                "points": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The points field is required."
                                                    ]
                                                },
                                                "points.n.file_name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The points.n.file_name field is required."
                                                    ]
                                                },
                                                "points.n.description": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The points.n.description field is required."
                                                    ]
                                                },
                                                "points.n.day_of_the_route": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The points.n.day_of_the_route field is required."
                                                    ]
                                                },
                                                "points.n.name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The points.n.name field is required."
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Роли пользователя не достаточно для выполнения операции",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "The role does not match the requirements"
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": []
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Пользователь не авторизирован",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/trip/list": {
            "get": {
                "tags": [
                    "Экскурсии"
                ],
                "summary": "Получить все экскурсии",
                "description": "Запрос для получения списка всех экскурсий вместе с точками и маршрутами (пагинация лень пока)",
                "operationId": "1be28363c04c1cd7c100107417e944c1",
                "responses": {
                    "200": {
                        "description": "Расширенный список эскурсий",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Fetched trips"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "route": {
                                                        "properties": {
                                                            "start_location": {
                                                                "type": "string",
                                                                "example": "Ижевск"
                                                            },
                                                            "duration": {
                                                                "type": "number",
                                                                "example": 10
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "id": {
                                                                "type": "number",
                                                                "example": 1
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "trip": {
                                                        "properties": {
                                                            "starts_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01 08:00"
                                                            },
                                                            "capacity": {
                                                                "type": "number",
                                                                "example": 5
                                                            },
                                                            "min_age": {
                                                                "type": "number",
                                                                "example": 16
                                                            },
                                                            "price": {
                                                                "type": "number",
                                                                "example": 9999
                                                            },
                                                            "route_id": {
                                                                "type": "number",
                                                                "example": 1
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "id": {
                                                                "type": "number",
                                                                "example": 1
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "points": {
                                                        "type": "array",
                                                        "items": {
                                                            "required": [
                                                                "file_name",
                                                                "description",
                                                                "day_of_the_route",
                                                                "name"
                                                            ],
                                                            "properties": {
                                                                "file_name": {
                                                                    "type": "string",
                                                                    "example": "points/pCobXrHQoHbiI2JDiWMJj8zVKLEu26qFIMogpwcD.jpg"
                                                                },
                                                                "description": {
                                                                    "type": "string",
                                                                    "example": "Описание точки"
                                                                },
                                                                "day_of_the_route": {
                                                                    "type": "number",
                                                                    "example": 1
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Название точки"
                                                                },
                                                                "updated_at": {
                                                                    "type": "string",
                                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                                },
                                                                "created_at": {
                                                                    "type": "string",
                                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                                },
                                                                "pivot": {
                                                                    "properties": {
                                                                        "route_id": {
                                                                            "type": "number",
                                                                            "example": 2
                                                                        },
                                                                        "point_id": {
                                                                            "type": "number",
                                                                            "example": 2
                                                                        },
                                                                        "day_of_the_route": {
                                                                            "type": "number",
                                                                            "example": 1
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Пользователь не авторизирован",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/trip/search": {
            "get": {
                "tags": [
                    "Экскурсии"
                ],
                "summary": "Поиск по экскурсиям, точкам и маршрутам",
                "description": "Запрос для поиска по всем маршрутам, точкам и экскурсиям. Ищет в полях description, name и start_location",
                "operationId": "8bedf832894d55c9c5a4693541b0b2a5",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "Ижевск"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Результаты поиска",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Search results"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "route": {
                                                        "properties": {
                                                            "start_location": {
                                                                "type": "string",
                                                                "example": "Ижевск"
                                                            },
                                                            "duration": {
                                                                "type": "number",
                                                                "example": 10
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "id": {
                                                                "type": "number",
                                                                "example": 1
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "trip": {
                                                        "properties": {
                                                            "starts_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01 08:00"
                                                            },
                                                            "capacity": {
                                                                "type": "number",
                                                                "example": 5
                                                            },
                                                            "min_age": {
                                                                "type": "number",
                                                                "example": 16
                                                            },
                                                            "price": {
                                                                "type": "number",
                                                                "example": 9999
                                                            },
                                                            "route_id": {
                                                                "type": "number",
                                                                "example": 1
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "example": "2000-01-01T00:00:00.000000Z"
                                                            },
                                                            "id": {
                                                                "type": "number",
                                                                "example": 1
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "points": {
                                                        "type": "array",
                                                        "items": {
                                                            "required": [
                                                                "file_name",
                                                                "description",
                                                                "day_of_the_route",
                                                                "name"
                                                            ],
                                                            "properties": {
                                                                "file_name": {
                                                                    "type": "string",
                                                                    "example": "points/pCobXrHQoHbiI2JDiWMJj8zVKLEu26qFIMogpwcD.jpg"
                                                                },
                                                                "description": {
                                                                    "type": "string",
                                                                    "example": "Описание точки"
                                                                },
                                                                "day_of_the_route": {
                                                                    "type": "number",
                                                                    "example": 1
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Название точки"
                                                                },
                                                                "updated_at": {
                                                                    "type": "string",
                                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                                },
                                                                "created_at": {
                                                                    "type": "string",
                                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                                },
                                                                "pivot": {
                                                                    "properties": {
                                                                        "route_id": {
                                                                            "type": "number",
                                                                            "example": 2
                                                                        },
                                                                        "point_id": {
                                                                            "type": "number",
                                                                            "example": 2
                                                                        },
                                                                        "day_of_the_route": {
                                                                            "type": "number",
                                                                            "example": 1
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Ошибка валидации данных",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "false"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation error"
                                        },
                                        "errors": {
                                            "properties": {
                                                "search": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The search field is required."
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Пользователь не авторизирован",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/user/signup": {
            "post": {
                "tags": [
                    "Пользователь"
                ],
                "summary": "Зарегистрировать нового пользователя",
                "description": "Создаёт и возвращает нового пользователя в случае успеха",
                "operationId": "signup",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "allOf": [
                                    {
                                        "required": [
                                            "first_name",
                                            "last_name",
                                            "birthday",
                                            "email",
                                            "password"
                                        ],
                                        "properties": {
                                            "first_name": {
                                                "type": "string",
                                                "example": "Иван"
                                            },
                                            "last_name": {
                                                "type": "string",
                                                "example": "Иванов"
                                            },
                                            "patronymic": {
                                                "type": "string",
                                                "example": "Иванович"
                                            },
                                            "birthday": {
                                                "type": "string",
                                                "example": "01.01.2000"
                                            },
                                            "email": {
                                                "type": "string",
                                                "example": "foo@bar.com"
                                            },
                                            "password": {
                                                "type": "string",
                                                "example": "password"
                                            }
                                        },
                                        "type": "object"
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Успешная регистрация",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User created"
                                        },
                                        "data": {
                                            "properties": {
                                                "first_name": {
                                                    "type": "string",
                                                    "example": "Иван"
                                                },
                                                "last_name": {
                                                    "type": "string",
                                                    "example": "Иванов"
                                                },
                                                "patronymic": {
                                                    "type": "string",
                                                    "example": "Иванович"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "foo@bar.com"
                                                },
                                                "birthday": {
                                                    "type": "string",
                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2000-01-01T00:00:00.000000Z"
                                                },
                                                "id": {
                                                    "type": "number",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Ошибка валидации данных",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "false"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation error"
                                        },
                                        "errors": {
                                            "properties": {
                                                "first_name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The first name field is required."
                                                    ]
                                                },
                                                "last_name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The last name field is required."
                                                    ]
                                                },
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The email field is required."
                                                    ]
                                                },
                                                "password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The password field is required"
                                                    ]
                                                },
                                                "birthday": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "The birthday field is required"
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/user/signin": {
            "post": {
                "tags": [
                    "Пользователь"
                ],
                "summary": "Войти в аккаунт",
                "description": "Проверяет credentials и создаёт новый токен в случае успеха",
                "operationId": "signin",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "allOf": [
                                    {
                                        "required": [
                                            "email",
                                            "password"
                                        ],
                                        "properties": {
                                            "email": {
                                                "type": "string",
                                                "example": "foo@bar.com"
                                            },
                                            "password": {
                                                "type": "string",
                                                "example": "password"
                                            }
                                        },
                                        "type": "object"
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Успешный вход",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Logged in"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": []
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Неверные credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "false"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Wrong credentials"
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": []
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/user/me": {
            "get": {
                "tags": [
                    "Пользователь"
                ],
                "summary": "Получить пользователя по сессии",
                "description": "Возвращает пользователя из сессии если это возможно",
                "operationId": "8120197dbf6b5752a156b9868aa8bd4e",
                "responses": {
                    "200": {
                        "description": "Успешный вывод пользователя",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": "true"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Session active"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "first_name": {
                                                        "type": "string",
                                                        "example": "Иван"
                                                    },
                                                    "last_name": {
                                                        "type": "string",
                                                        "example": "Иванов"
                                                    },
                                                    "patronymic": {
                                                        "type": "string",
                                                        "example": "Иванович"
                                                    },
                                                    "birthday": {
                                                        "type": "string",
                                                        "example": "2000-01-01T00:00:00.000000Z"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "example": "foo@bar.com"
                                                    },
                                                    "role": {
                                                        "type": "string",
                                                        "example": "user"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Пользователь не авторизирован",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Авторизация",
            "description": "Авторизация"
        },
        {
            "name": "Достопримечательности",
            "description": "Достопримечательности"
        },
        {
            "name": "Контент",
            "description": "Контент"
        },
        {
            "name": "Точки",
            "description": "Точки"
        },
        {
            "name": "Экскурсии",
            "description": "Экскурсии"
        },
        {
            "name": "Пользователь",
            "description": "Пользователь"
        }
    ]
}